<section class="w-full h-screen relative flex flex-col items-center">
  <div class="text-textMain text-6xl font-bold my-12 justify-start">Projects</div>
  <div class="grid grid-cols-5 grid-rows-5 gap-4 w-[70%]">    <!-- Grid component -->
    <div *ngFor="let project of projects; index as i" 
         class="bg-primary-600 flex flex-col p-[25px] rounded-[40px] gap-2 hover:scale-105 transition-transform"  
         [ngClass]="[ 'col-span-' + sizes[i][0],'row-span-' + sizes[i][1] ]"
         (click) = "handleCardClick(i)">   <!-- Card component -->
      <div>
        <img [src]="project.images[0].fields.file.url ?? 'https://placehold.co/600x400'" 
             class="rounded-[15px]"
             [ngClass] = "[ sizes[i][0]>=sizes[i][1] ? 'aspect-video':'aspect-square']">
      </div>
      <h1 class="text-3xl font-bold text-textMain indent-3 mt-2">{{project.title}}</h1>
      <p class="text-textMain my-2">{{project.shortDescription}}</p>
      <div class="flex flex-wrap justify-center gap-3 py-2" [class.hidden]="sizes[i][0] < 2" >
        <div class="bg-secondary rounded-full px-4 py-1 text-xs drop-shadow-lg" *ngFor="let skill of project.skills">{{skill.fields.skillName}}</div>
      </div>
    </div>

    <!-- <div class="bg-background-300 size-full col-span-2 row-span-4" >2x2</div> -->
    


  </div>


    <!-- Modal window -->
  <dialog *ngIf="selectedProject !== null" 
          class="modal w-[90%] h-fit py-[60px] flex flex-col z-20">
    <img (click)="handleModalClose()" src="../../assets/icons8-close.svg" class="absolute right-3 top-3 hover:scale-105">
    <div class="grid grid-cols-1 md:grid-cols-[60%,40%] h-full items-start md:items-center">
      <!-- <div class="bg-slate-400 aspect-video hidden md:block">image</div> -->
      <carousel class="hidden md:block" [imageList]="projects?.[selectedProject].images"></carousel>
      <div class="grid grid-cols-1 gap-y-5 justify-items-center px-5">

        <div class="text-4xl my-5">
          {{projects?.[selectedProject].title}}
        </div>
        <carousel class="md:hidden" [imageList]="projects?.[selectedProject].images"></carousel>
        <div class="flex flex-wrap gap-3 justify-center">
          <div class="bg-secondary rounded-full px-4 py-1" *ngFor="let skill of projects?.[selectedProject].skills">{{skill.fields.skillName}}</div>
        </div>
        <article *ngFor="let section of projects?.[selectedProject].description.content">
          {{section.content[0].value}}
        </article>
        
        <div class="grid grid-cols-2 gap-3 justify-around w-full">
          <a href="{{projects?.[selectedProject].gitLink}}" target="_blank">
            <button class="bg-primary rounded-[15px] text-2xl px-8 py-4 size-full">
              GitHub
            </button>
          </a>
          
          <a href="{{projects?.[selectedProject].websiteLink}}" target="_blank">
            <button class="bg-secondary rounded-[15px] text-2xl px-8 py-4 size-full">
              Website
            </button>
          </a>
          
        </div>
      </div>
    </div>

  </dialog>

  <div class="fixed inset-0 backdrop-blur-sm z-10 " 
       *ngIf="selectedProject !== null" 
       (click)="handleModalClose()">
  </div>

</section>



